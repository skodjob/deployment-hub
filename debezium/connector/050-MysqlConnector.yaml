apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaConnector
metadata:
  name: imhotep-mysql
  labels:
    strimzi.io/cluster: imhotep
    app: imhotep
spec:
  class: io.debezium.connector.mysql.MySqlConnector
  autoRestart:
    enabled: true
  config:
    database.hostname: imhotep-mysql.debezium-mysql.svc.cluster.local
    database.port: 3306
    database.user: ${secrets:debezium-mysql/imhotep-mysql-secret:username}
    database.password: ${secrets:debezium-mysql/imhotep-mysql-secret:password}
    database.dbname: ${secrets:debezium-mysql/imhotep-mysql-secret:database}
    database.server.id: 223344
    topic.prefix: mysql
    table.include.list: crypto
    schema.history.internal.kafka.bootstrap.servers: anubis-kafka-bootstrap:9092
    schema.history.internal.kafka.topic: schema-changes.crypto